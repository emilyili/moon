<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>⋆⭒˚｡⋆☾⋆⭒˚｡⋆</title>
    <link rel="stylesheet" href="styles.css" />
    <link rel="icon" type="image/png" href="imgs/moon_cropped.png" />
  </head>
  <body>
    <div class="moon">
      <img src="imgs/moon.png" />
      <p>ଘ(੭ˊᵕˋ)੭* ੈ✩‧₊</p>
      <input
        type="text"
        id="wishInput"
        placeholder="set an intention or make a wish..."
        onkeydown="onEnter(event)"
      />
      <p id="wishDisplay" class="wish-display"></p>
    </div>
    <script>
      function onEnter(event) {
        if (event.key === 'Enter') {
          let wishInput = document.getElementById('wishInput').value.trim();
          let wishDisplay = document.getElementById('wishDisplay');

          if (wishInput) {
            wishDisplay.innerHTML = '';

            for (let letter of wishInput) {
              let span = document.createElement('span');
              span.textContent = letter;
              span.style.opacity = 1;
              wishDisplay.appendChild(span);
            }

            let spans = wishDisplay.querySelectorAll('span');
            spans.forEach((span, index) => {
              let delay = Math.random() * 3000 + 1000;
              setTimeout(() => {
                span.style.transition = 'opacity 1s ease-out';
                span.style.opacity = 0;
              }, delay);
            });

            document.getElementById('wishInput').value = '';

            setTimeout(() => {
              wishDisplay.innerHTML = '';
            }, 5000);
          }
        }
      }

      document.addEventListener('mousemove', (e) => {
        if (Math.random() > 0.5) return;

        const star = document.createElement('div');
        star.classList.add('star');
        star.innerHTML = '✮';
        document.body.appendChild(star);

        star.style.left = `${e.clientX + (Math.random() * 20 - 10)}px`; // Random offset for spacing
        star.style.top = `${e.clientY + (Math.random() * 20 - 10)}px`;

        setTimeout(() => {
          star.style.opacity = '0';
          star.style.transform = 'scale(2)';
        }, 1500);

        setTimeout(() => {
          star.remove();
        }, 2500);
      });
    </script>
  </body>
</html>
